
exten => RRRRR,1,Macro(user-callerid,)
exten => RRRRR,n,Answer
exten => RRRRR,n,Set(__NODEST=${EXTEN})
exten => RRRRR,n,Set(__QCONTEXT=2)
exten => RRRRR,n,Set(QCIDPP=${IF($[${LEN(${VQ_CIDPP})}>0]?"${VQ_CIDPP}": )})
exten => RRRRR,n,Set(VQ_CIDPP=)
exten => RRRRR,n,ExecIf($["${QCIDPP}"!=""]?Macro(prepend-cid,${QCIDPP}))
exten => RRRRR,n,Set(QAINFO=${IF($[${LEN(${VQ_AINFO})}>0]?${VQ_AINFO}: )})
exten => RRRRR,n,Set(VQ_AINFO=)
exten => RRRRR,n,Set(__RVOL_MODE=dontcare)
exten => RRRRR,n,ExecIf($["${QAINFO}"!=""]?Set(__ALERT_INFO=${QAINFO}))
exten => RRRRR,n,Set(QJOINMSG=${IF($[${LEN(${VQ_JOINMSG})}>0]?${IF($["${VQ_JOINMSG}"!="0"]?${VQ_JOINMSG}: )}: )})
exten => RRRRR,n,Set(VQ_JOINMSG=)
exten => RRRRR,n,Set(QCANCELMISSED=)
exten => RRRRR,n,Set(QRETRY=${IF($[${LEN(${VQ_RETRY})}>0]?${VQ_RETRY}: )})
exten => RRRRR,n,Set(VQ_RETRY=)
exten => RRRRR,n(qoptions),Set(QOPTIONS=${IF($[${LEN(${VQ_OPTIONS})}>0]?${VQ_OPTIONS}:t)}${QCANCELMISSED}${QRINGOPTS}${QRETRY})
exten => RRRRR,n,Set(VQ_OPTIONS=)
exten => RRRRR,n(qgosub),Set(QGOSUB=${IF($[${LEN(${VQ_GOSUB})}>0]?${VQ_GOSUB}:${QGOSUB})})
exten => RRRRR,n,Set(VQ_GOSUB=)
exten => RRRRR,n(qagi),Set(QAGI=${IF($[${LEN(${VQ_AGI})}>0]?${VQ_AGI}:${QAGI})})
exten => RRRRR,n,Set(VQ_AGI=)
exten => RRRRR,n(qrule),Set(QRULE=${IF($[${LEN(${VQ_RULE})}>0]?${IF($["${VQ_RULE}"!="0"]?${VQ_RULE}: )}:${QRULE})})
exten => RRRRR,n,Set(VQ_RULE=)
exten => RRRRR,n(qposition),Set(QPOSITION=${IF($[${LEN(${VQ_POSITION})}>0]?${VQ_POSITION}:${QPOSITION})})
exten => RRRRR,n,Set(VQ_POSITION=)
exten => RRRRR,n,Gosub(sub-record-check,s,1(q,RRRRR,dontcare))
exten => RRRRR,n,Set(__CFIGNORE=TRUE)
exten => RRRRR,n,Set(__FORWARD_CONTEXT=block-cf)
exten => RRRRR,n,Set(__SIGNORE=TRUE)
exten => RRRRR,n,Set(__QC_CONFIRM=0)
exten => RRRRR,n,GotoIf($[$["${QC_CONFIRM}"="1"] | $[${LEN(${VQ_CONFIRMMSG})}>1]]?QVQANNOUNCE:NOQVQANNOUNCE)
exten => RRRRR,n(QVQANNOUNCE),Set(__FORCE_CONFIRM=${CHANNEL})
exten => RRRRR,n,Set(SHARED(ANSWER_STATUS)=NOANSWER)
exten => RRRRR,n,Set(__CALLCONFIRMCID=${CALLERID(number)})
exten => RRRRR,n,Set(__ALT_CONFIRM_MSG=${IF($[${LEN(${VQ_CONFIRMMSG})}>0]?${IF($["${VQ_CONFIRMMSG}"!="0"]?${VQ_CONFIRMMSG}:default )}:default)})
exten => RRRRR,n(NOQVQANNOUNCE),Set(VQ_CONFIRMMSG=)
exten => RRRRR,n,ExecIf($["${QJOINMSG}"!=""]?Playback(${QJOINMSG}, ))
exten => RRRRR,n,QueueLog(RRRRR,${UNIQUEID},NONE,DID,${FROM_DID})
exten => RRRRR,n,Set(QAANNOUNCE=${IF($[${LEN(${VQ_AANNOUNCE})}>0]?${IF($["${VQ_AANNOUNCE}"!="0"]?${VQ_AANNOUNCE}: )}: )})
exten => RRRRR,n,Set(VQ_AANNOUNCE=)
exten => RRRRR,n,Set(QMOH=${IF($["${VQ_MOH}"!=""]?${VQ_MOH}: )})
exten => RRRRR,n,Set(VQ_MOH=)
exten => RRRRR,n,ExecIf($["${QMOH}"!=""]?Set(__MOHCLASS=${QMOH}))
exten => RRRRR,n,ExecIf($["${MOHCLASS}"!=""]?Set(CHANNEL(musicclass)=${MOHCLASS}))
exten => RRRRR,n,Set(QMAXWAIT=${IF($[${LEN(${VQ_MAXWAIT})}>0]?${VQ_MAXWAIT}: )})
exten => RRRRR,n,Set(VQ_MAXWAIT=)
exten => RRRRR,n,Set(QUEUENUM=RRRRR)
exten => RRRRR,n,Set(QUEUEJOINTIME=${EPOCH})
exten => RRRRR,n(qcall),Queue(RRRRR,${QOPTIONS},,${QAANNOUNCE},${QMAXWAIT},${QAGI},,${QGOSUB},${QRULE},${QPOSITION})
exten => RRRRR,n,Gosub(sub-record-cancel,s,1())
exten => RRRRR,n,Set(__NODEST=)
exten => RRRRR,n,Set(_QUEUE_PRIO=0)
exten => RRRRR,n,Set(__CFIGNORE=)
exten => RRRRR,n,Set(__FORWARD_CONTEXT=from-internal)
exten => RRRRR,n,Set(QDEST=${VQ_DEST})
exten => RRRRR,n,Set(VQ_DEST=)
exten => RRRRR,n(gotodest),GotoIf($["${QDEST}"=""]?app-blackhole,hangup,1:${CUT(QDEST,^,1)},${CUT(QDEST,^,2)},${CUT(QDEST,^,3)})

